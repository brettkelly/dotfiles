{"version":3,"file":"versions.js","sourceRoot":"","sources":["../../src/utils/versions.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,QAAQ,EAAC,MAAM,6BAA6B,CAAA;AACpD,OAAO,EAAC,QAAQ,EAAE,UAAU,EAAC,MAAM,0BAA0B,CAAA;AAC7D,OAAO,EAAC,OAAO,EAAC,MAAM,4BAA4B,CAAA;AAClD,OAAO,EAAC,aAAa,EAAC,MAAM,KAAK,CAAA;AAEjC,MAAM,CAAC,KAAK,UAAU,UAAU;IAC9B,MAAM,kBAAkB,GACtB,CAAC,MAAM,UAAU,CAAC,2BAA2B,EAAE;QAC7C,GAAG,EAAE,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAI,EAAE,MAAM;QACZ,aAAa,EAAE,IAAI;KACpB,CAAC,CAAC;QACH,CAAC,MAAM,UAAU,CAAC,2BAA2B,EAAE;YAC7C,GAAG,EAAE,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5C,IAAI,EAAE,MAAM;SACb,CAAC,CAAC,CAAA;IACL,IAAI,CAAC,kBAAkB,EAAE;QACvB,MAAM,IAAI,QAAQ,CAAC,2CAA2C,CAAC,CAAA;KAChE;IACD,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAA;IAClE,OAAO,WAAW,CAAC,OAAO,CAAA;AAC5B,CAAC","sourcesContent":["import {BugError} from '@shopify/cli-kit/node/error'\nimport {readFile, findPathUp} from '@shopify/cli-kit/node/fs'\nimport {dirname} from '@shopify/cli-kit/node/path'\nimport {fileURLToPath} from 'url'\n\nexport async function cliVersion(): Promise<string> {\n  const cliPackageJsonpath =\n    (await findPathUp('@shopify/cli/package.json', {\n      cwd: dirname(fileURLToPath(import.meta.url)),\n      type: 'file',\n      allowSymlinks: true,\n    })) ??\n    (await findPathUp('packages/cli/package.json', {\n      cwd: dirname(fileURLToPath(import.meta.url)),\n      type: 'file',\n    }))\n  if (!cliPackageJsonpath) {\n    throw new BugError(\"Couldn't determine the version of the CLI\")\n  }\n  const packageJson = JSON.parse(await readFile(cliPackageJsonpath))\n  return packageJson.version\n}\n"]}