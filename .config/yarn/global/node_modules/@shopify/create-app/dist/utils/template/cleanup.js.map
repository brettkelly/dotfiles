{"version":3,"file":"cleanup.js","sourceRoot":"","sources":["../../../src/utils/template/cleanup.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,KAAK,EAAE,IAAI,EAAC,MAAM,0BAA0B,CAAA;AACpD,OAAO,EAAC,QAAQ,EAAC,MAAM,4BAA4B,CAAA;AAEnD,MAAM,CAAC,OAAO,CAAC,KAAK,UAAU,OAAO,CAAC,kBAA0B;IAC9D,MAAM,QAAQ,GAAG,MAAM,IAAI,CACzB;QACE,QAAQ,CAAC,kBAAkB,EAAE,IAAI,EAAE,MAAM,CAAC;QAC1C,QAAQ,CAAC,kBAAkB,EAAE,IAAI,EAAE,SAAS,CAAC;QAC7C,QAAQ,CAAC,kBAAkB,EAAE,IAAI,EAAE,aAAa,CAAC;QACjD,QAAQ,CAAC,kBAAkB,EAAE,UAAU,CAAC;QACxC,QAAQ,CAAC,kBAAkB,EAAE,IAAI,EAAE,mBAAmB,CAAC;QACvD,QAAQ,CAAC,kBAAkB,EAAE,mBAAmB,CAAC;KAClD,EACD;QACE,GAAG,EAAE,IAAI;QACT,SAAS,EAAE,KAAK;QAChB,eAAe,EAAE,KAAK;QACtB,MAAM,EAAE,CAAC,oBAAoB,CAAC;KAC/B,CACF,CAAA;IAED,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAA;AACvF,CAAC","sourcesContent":["import {rmdir, glob} from '@shopify/cli-kit/node/fs'\nimport {joinPath} from '@shopify/cli-kit/node/path'\n\nexport default async function cleanup(webOutputDirectory: string) {\n  const gitPaths = await glob(\n    [\n      joinPath(webOutputDirectory, '**', '.git'),\n      joinPath(webOutputDirectory, '**', '.github'),\n      joinPath(webOutputDirectory, '**', '.gitmodules'),\n      joinPath(webOutputDirectory, 'LICENSE*'),\n      joinPath(webOutputDirectory, '**', 'frontend/LICENSE*'),\n      joinPath(webOutputDirectory, 'package.json.cli2'),\n    ],\n    {\n      dot: true,\n      onlyFiles: false,\n      onlyDirectories: false,\n      ignore: ['**/node_modules/**'],\n    },\n  )\n\n  return Promise.all(gitPaths.map((path) => rmdir(path, {force: true}))).then(() => {})\n}\n"]}